--- ( 'ID' para foreign keys, colocar primeiro);

create table produtos_categorias(
id_categoria int primary key auto_increment,
tipo varchar(200) not null,
created_at date not null,
icone varchar(255) not null
);
insert into produtos_categorias(tipo, created_at,icone)
values('Comida', '2023-08-05', 'fa-solid fa-burger'),
('Bebida', '2023-08-05', 'fa-solid fa-wine-glass');

create table produtos(
id_produto int auto_increment primary key,
produto varchar(255) not null,
preco float not null,
qtde int not null,
data_vencimento date not null,
codigo text not null,
created_at date ,
updated_at date ,
deleted_at date,
descricao text not null,
id_categoria int not null,
foreign key (id_categoria) references produtos_categorias(id_categoria)
);

insert into produtos(produto, preco, qtde , data_vencimento, codigo, created_at, descricao, id_categoria)
values ('Vinho', 69.99, 1, '2023-09-10', 2135235, '2023-08-05', 'Vinho de boa qualidade', 2),
('MC Feliz', 20, 5, '2025-03-17', 3245267, '2023-08-05', 'MC Feliz que dura bastante tempo', 1),
('Pizza Familia', 70, 1, '2023-10-20', 'Pizza de Pepperoni tamanho familia', 1);

create table produtos_imagens(
id_imagem int auto_increment primary key,
id_produto int not null,
imagem varchar(255) not null,
created_at date not null,
deleted_at date null,
foreign key (id_produto) references produtos(id_produto)
);

insert into produtos_imagens (id_produto, imagem, created_at )
values (1, 'preto.jpg', '2023-08-02'),
(2, 'McLanche.webp', '2023-08-02'),
(3, 'pizza.jpg', '2023-10-18');

-- caso de conflito com o nome antigo
alter table imagens_produtos rename produtos_imagens
